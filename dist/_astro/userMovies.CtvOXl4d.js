class a{watchedMovies=[];watchlistMovies=[];isClient;constructor(){this.isClient=typeof window<"u",this.isClient&&this.loadFromStorage()}loadFromStorage(){if(!this.isClient)return;const t=localStorage.getItem("watchedMovies"),i=localStorage.getItem("watchlistMovies");t&&(this.watchedMovies=JSON.parse(t)),i&&(this.watchlistMovies=JSON.parse(i))}saveToStorage(){this.isClient&&(localStorage.setItem("watchedMovies",JSON.stringify(this.watchedMovies)),localStorage.setItem("watchlistMovies",JSON.stringify(this.watchlistMovies)))}markAsWatched(t){this.watchedMovies.findIndex(e=>e.id===t.id)===-1&&this.watchedMovies.push({...t,watched:!0,watchlist:!1}),this.watchlistMovies=this.watchlistMovies.filter(e=>e.id!==t.id),this.saveToStorage()}unmarkAsWatched(t){this.watchedMovies=this.watchedMovies.filter(i=>i.id!==t),this.saveToStorage()}addToWatchlist(t){this.watchlistMovies.findIndex(e=>e.id===t.id)===-1&&this.watchlistMovies.push({...t,watched:!1,watchlist:!0}),this.saveToStorage()}removeFromWatchlist(t){this.watchlistMovies=this.watchlistMovies.filter(i=>i.id!==t),this.saveToStorage()}rateMovie(t,i){const e=this.watchedMovies.find(s=>s.id===t);e&&(e.rating=i,this.saveToStorage())}getWatchedMovies(){return this.isClient?this.watchedMovies:[]}getWatchlistMovies(){return this.isClient?this.watchlistMovies:[]}isWatched(t){return this.isClient?this.watchedMovies.some(i=>i.id===t):!1}isInWatchlist(t){return this.isClient?this.watchlistMovies.some(i=>i.id===t):!1}getMovieRating(t){return this.isClient?this.watchedMovies.find(e=>e.id===t)?.rating:void 0}}const o=new a;export{o as u};
