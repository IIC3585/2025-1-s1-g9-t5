import{r as N,a as o}from"./index._OACqPSs.js";import{u as l}from"./userMovies.CtvOXl4d.js";var v={exports:{}},p={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y;function R(){if(y)return p;y=1;var t=N(),g=Symbol.for("react.element"),m=Symbol.for("react.fragment"),d=Object.prototype.hasOwnProperty,h=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,j={key:!0,ref:!0,__self:!0,__source:!0};function x(r,s,i){var a,n={},u=null,f=null;i!==void 0&&(u=""+i),s.key!==void 0&&(u=""+s.key),s.ref!==void 0&&(f=s.ref);for(a in s)d.call(s,a)&&!j.hasOwnProperty(a)&&(n[a]=s[a]);if(r&&r.defaultProps)for(a in s=r.defaultProps,s)n[a]===void 0&&(n[a]=s[a]);return{$$typeof:g,type:r,key:u,ref:f,props:n,_owner:h.current}}return p.Fragment=m,p.jsx=x,p.jsxs=x,p}var _;function k(){return _||(_=1,v.exports=R()),v.exports}var e=k();function C({movie:t}){const[g,m]=o.useState(!1),[d,h]=o.useState(0),[j,x]=o.useState(0),[r,s]=o.useState(!1),[i,a]=o.useState(!1);o.useEffect(()=>{const c=l.getMovieRating(t.id);c&&h(c),s(l.isWatched(t.id)),a(l.isInWatchlist(t.id))},[t.id]);const n=c=>{h(c),l.rateMovie(t.id,c)},u=()=>{r?(l.unmarkAsWatched(t.id),h(0)):l.markAsWatched({id:t.id,title:t.title,poster_path:t.poster_path||"",watched:!0,watchlist:!1}),s(!r)},f=()=>{i?l.removeFromWatchlist(t.id):l.addToWatchlist({id:t.id,title:t.title,poster_path:t.poster_path||"",watched:!1,watchlist:!0}),a(!i)};return e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>m(!0),className:"inline-flex items-center px-4 py-2 bg-[#e50914] text-white rounded-lg hover:bg-[#f40612] transition-colors",children:["View Details",e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 ml-2",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10.293 3.293a1 1 0 011.414 0l6 6a1 1 0 010 1.414l-6 6a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-4.293-4.293a1 1 0 010-1.414z",clipRule:"evenodd"})})]}),g&&e.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:e.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[e.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",children:e.jsx("div",{className:"absolute inset-0 bg-black opacity-75"})}),e.jsx("div",{className:"inline-block align-bottom bg-[#1a1a1a] rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-2xl sm:w-full",children:e.jsxs("div",{className:"relative",children:[e.jsx("button",{onClick:()=>m(!1),className:"absolute top-4 right-4 text-gray-400 hover:text-white",children:e.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),e.jsxs("div",{className:"sm:flex",children:[e.jsx("div",{className:"sm:w-1/3",children:e.jsx("img",{src:t.poster_path?`https://image.tmdb.org/t/p/w500${t.poster_path}`:"/images/poster-placeholder.jpg",alt:t.title,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"sm:w-2/3 p-6",children:[e.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:t.title}),e.jsxs("div",{className:"flex items-center space-x-4 text-gray-300 mb-4",children:[e.jsx("span",{children:new Date(t.release_date).getFullYear()}),e.jsx("span",{children:"•"}),e.jsxs("span",{children:[t.vote_average.toFixed(1),"/10"]})]}),e.jsxs("div",{className:"flex items-center justify-center mb-4",children:[e.jsx("svg",{className:"w-5 h-5 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})}),e.jsx("span",{className:"ml-2 text-white",children:t.vote_average.toFixed(1)})]}),e.jsx("div",{className:"flex items-center space-x-1",children:[...Array(10)].map((c,b)=>{const w=b+1;return e.jsx("button",{type:"button",className:"focus:outline-none",onClick:()=>n(w),onMouseEnter:()=>x(w),onMouseLeave:()=>x(0),children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-8 w-8 ${w<=(j||d)?"text-yellow-400":"text-gray-400"}`,viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})})},b)})}),e.jsxs("div",{className:"flex space-x-4 mb-4",children:[e.jsx("button",{onClick:u,className:`px-4 py-2 rounded-lg ${r?"bg-green-600 text-white hover:bg-green-700":"bg-gray-700 text-white hover:bg-gray-600"}`,children:r?"✓ Vista":"Marcar como vista"}),e.jsx("button",{onClick:f,className:`px-4 py-2 rounded-lg ${i?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-700 text-white hover:bg-gray-600"}`,children:i?"✓ En Watchlist":"Agregar a Watchlist"})]}),e.jsx("p",{className:"text-sm text-gray-400",children:d?`Tu calificación: ${d}/10`:"Califica esta película"})]})]})]})})]})})]})}export{C as default};
